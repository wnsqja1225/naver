<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Naver Click Redirect</title>
  <script>
    // 1. 필수 고정값 (원할 때마다 변경 가능)
    const query = '오페라글라스';
    const mid = '85028967433';

    // 2. 유틸: 랜덤 숫자 생성기
    const rand = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

    // 3. 랜덤 마우스 좌표 및 뷰포트
    const px = rand(500, 1600);
    const py = rand(300, 2300);
    const sx = px;
    const sy = rand(300, 800);
    const vw = 1920;
    const vh = 1080;
    const bw = 672;
    const bh = 1091;
    const bx = rand(200, 800);
    const by = rand(400, 900);

    // 4. 세션 ID (p) 및 타임스탬프
    const p = Math.random().toString(36).substring(2, 22);
    const timestamp = Date.now();

    // 5. 기타 고정 or 복붙된 값
    const encodedQuery = encodeURIComponent(query);
    const a = 'shp_gui*a.outtit';
    const abt = encodeURIComponent(`[{"eid":"PWL-SAS-RANKING","vid":"3"},{"eid":"SURF-AD","vid":"11"},{"eid":"SHP-BND-UI","vid":"2"}]`);
    const i = '00000009_0013cc1f1409'; // 상품 i값 (선택사항, 없으면 제거해도 됨)
    const r = rand(4, 8); // 순위

    // 6. 실제 이동할 상품 상세 페이지 (bridge 링크)
    const u = encodeURIComponent(
      `https://cr3.shopping.naver.com/v2/bridge/searchGate?nv_mid=${mid}&cat_id=50002010&query=${encodedQuery}&t=mccm4r1h&h=4bd0256fd2c1bb40879aa5817580a8c513b5cb06&frm=NVSCPRO`
    );

    // 7. 최종 리디렉션 URL 생성
    const redirectUrl = `https://search.naver.com/p/crd/rd?` +
      `m=1&px=${px}&py=${py}&sx=${sx}&sy=${sy}&vw=${vw}&vh=${vh}&bw=${bw}&bh=${bh}&bx=${bx}&by=${by}` +
      `&p=${p}` +
      `&q=${encodedQuery}` +
      `&ie=utf8&rev=1&ssc=tab.nx.all&f=nexearch&w=nexearch` +
      `&s=%2Fled4NOxNsrdgMPyvI4jzw%3D%3D` + // 네이버 암호화값, 유지
      `&time=${timestamp}` +
      `&abt=${abt}` +
      `&a=${a}` +
      `&u=${u}` +
      `&r=${r}&i=${i}&cr=2`;

    // 8. 자동 이동
    window.location.href = redirectUrl;
  </script>
</head>
<body></body>
</html>
