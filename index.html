<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Redirecting...</title>
  <script>
    // [1] 필수 정보 입력
    const query = '지베아 발매트';
    const mid = '84447096208';
    const timestamp = Date.now();

    // [2] 랜덤 유틸
    const rand = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

    // [3] 마우스 좌표 및 환경 정보 (네이버가 추적하는 값처럼 보이게)
    const px = rand(600, 1400);
    const py = rand(400, 2200);
    const sx = px;
    const sy = rand(300, 700);
    const bx = rand(200, 800);
    const by = rand(300, 900);
    const vw = 1920;
    const vh = 1080;
    const bw = 672;
    const bh = 1091;
    const p = Math.random().toString(36).substring(2, 22); // 세션 ID처럼

    // [4] 검색어와 상품 링크
    const encodedQuery = encodeURIComponent(query);
    const rawU = `https://cr3.shopping.naver.com/v2/bridge/searchGate?nv_mid=${mid}&cat_id=50002010&query=${encodedQuery}&t=mcbw6qz1&h=4bd0256fd2c1bb40879aa5817580a8c513b5cb06&frm=NVSCPRO`;
    const encodedU = encodeURIComponent(rawU);

    // [5] 최종 리디렉션 URL 생성 (r 없음!)
    const url =
      'https://search.naver.com/p/crd/rd?' +
      `m=1&px=${px}&py=${py}&sx=${sx}&sy=${sy}` +
      `&vw=${vw}&vh=${vh}&bw=${bw}&bh=${bh}&bx=${bx}&by=${by}` +
      `&p=${p}` +
      `&q=${encodedQuery}` +
      `&ie=utf8&rev=1&ssc=tab.nx.all&f=nexearch&w=nexearch` +
      `&time=${timestamp}` +
      `&a=shp_gui*a.outtit` +
      `&u=${encodedU}`;

    // [6] 리디렉션
    window.location.href = url;
  </script>
</head>
<body></body>
</html>
